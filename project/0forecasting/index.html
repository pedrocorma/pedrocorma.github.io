<!DOCTYPE html><html lang="en-us" >


<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  
  
    <meta name="generator" content="Wowchemy 5.5.0 for Hugo" />
  

  
  










  







  
  
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  

  
  
  
    
      
      <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media="print" onload="this.media='all'">
    
  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Pedro Cortés Macías" />

  
  
  
    
  
  <meta name="description" content="Reduced warehouse costs and stock-outs by developing a scalable set of recursive machine learning models that predict the demand in the next 8 days at store-product level based on the data contained in the three-year-history company&#39;s SQL database." />

  
  <link rel="alternate" hreflang="en-us" href="https://pedrocorma.github.io/project/0forecasting/" />

  
  
  
    <meta name="theme-color" content="hsl(339, 90%, 68%)" />
  

  
  
    
    <script src="https://pedrocorma.github.io/js/mathjax-config.js"></script>
  

  

  <link rel="stylesheet" href="https://pedrocorma.github.io/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css" media="print" onload="this.media='all'">

  
  
  
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha512-W0xM4mr6dEP9nREo7Z9z+9X70wytKvMGeDsj7ps2+xg5QPrEBXC8tAW1IFnzjR6eoJ90JmCnFzerQJTLzIEHjA==" crossorigin="anonymous" media="print" onload="this.media='all'">
    

    
    
    
    
      
      
    
    
    

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/styles/github.min.css" crossorigin="anonymous" title="hl-light" media="print" onload="this.media='all'" disabled>
          <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" media="print" onload="this.media='all'">
        
      
    

    
    
    

    

    
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      
      

      
      

      
    
      
      

      
      

      
    
  

  
  
  
  
  
  <link rel="stylesheet" href="https://pedrocorma.github.io/css/wowchemy.37c356469c3e7b7cad46a825ebd2b0b8.css" />

  



  


  


  




  
  
  

  

  
    <link rel="manifest" href="https://pedrocorma.github.io/manifest.webmanifest" />
  

  <link rel="icon" type="image/png" href="https://pedrocorma.github.io/media/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_32x32_fill_lanczos_center_3.png" />
  <link rel="apple-touch-icon" type="image/png" href="https://pedrocorma.github.io/media/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_180x180_fill_lanczos_center_3.png" />

  <link rel="canonical" href="https://pedrocorma.github.io/project/0forecasting/" />

  
  
  
  
  
  
  
  
    
  
  

  
  
    
    
  
  <meta property="twitter:card" content="summary_large_image" />
  
  <meta property="og:site_name" content="Pedro Cortés" />
  <meta property="og:url" content="https://pedrocorma.github.io/project/0forecasting/" />
  <meta property="og:title" content="Retail Sales Forecasting | Pedro Cortés" />
  <meta property="og:description" content="Reduced warehouse costs and stock-outs by developing a scalable set of recursive machine learning models that predict the demand in the next 8 days at store-product level based on the data contained in the three-year-history company&#39;s SQL database." /><meta property="og:image" content="https://pedrocorma.github.io/project/0forecasting/featured.png" />
    <meta property="twitter:image" content="https://pedrocorma.github.io/project/0forecasting/featured.png" /><meta property="og:locale" content="en-us" />
  
    
      <meta
        property="article:published_time"
        content="2022-05-01T00:00:00&#43;00:00"
      />
    
    <meta property="article:modified_time" content="2022-05-01T00:00:00&#43;00:00">
  

  


    









<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://pedrocorma.github.io/project/0forecasting/"
  },
  "headline": "Retail Sales Forecasting",
  
  "image": [
    "https://pedrocorma.github.io/project/0forecasting/featured.png"
  ],
  
  "datePublished": "2022-05-01T00:00:00Z",
  "dateModified": "2022-05-01T00:00:00Z",
  
  "author": {
    "@type": "Person",
    "name": "Pedro Cortés Macías"
  },
  
  "publisher": {
    "@type": "Organization",
    "name": "Pedro Cortés",
    "logo": {
      "@type": "ImageObject",
      "url": "https://pedrocorma.github.io/media/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_192x192_fill_lanczos_center_3.png"
    }
  },
  "description": "Reduced warehouse costs and stock-outs by developing a scalable set of recursive machine learning models that predict the demand in the next 8 days at store-product level based on the data contained in the three-year-history company's SQL database."
}
</script>

  

  

  

  





  <title>Retail Sales Forecasting | Pedro Cortés</title>
</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper  dark " data-wc-page-id="1afab139fafec755ff0c3072f3ce2d1e" >

  
  
  
  
  
  
  
  
  
  <script src="https://pedrocorma.github.io/js/wowchemy-init.min.6a6813e7ed475370e052267c3a688edc.js"></script>

  


<aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="Close"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control"
        aria-label="Search...">
        
      </div>

      
      

      

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>



  <div class="page-header">
    












<header class="header--fixed">
  <nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
    <div class="container-xl">

      
      <div class="d-none d-lg-inline-flex">
        <a class="navbar-brand" href="https://pedrocorma.github.io/">Pedro Cortés</a>
      </div>
      

      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar-content" aria-controls="navbar-content" aria-expanded="false" aria-label="Toggle navigation">
      <span><i class="fas fa-bars"></i></span>
      </button>
      

      
      <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
        <a class="navbar-brand" href="https://pedrocorma.github.io/">Pedro Cortés</a>
      </div>
      

      
      
      <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

        
        <ul class="navbar-nav d-md-inline-flex">
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="https://pedrocorma.github.io/#projects"><span>Portfolio</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="https://pedrocorma.github.io/#contact"><span>Contact</span></a>
          </li>

          
          

        

          
        </ul>
      </div>

      <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

        
        
          
        

        
        

        
        
        

        
        

      </ul>

    </div>
  </nav>
</header>


  </div>

  <div class="page-body">
    
    
    

    <article class="article article-project">

  





















  
  


<div class="article-container pt-3">
  <h1>Retail Sales Forecasting</h1>

  

  


<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    May 1, 2022
  </span>
  

  

  

  
  
  
  

  
  

</div>

  




<div class="btn-links mb-3">
  
  








  


















  
  
  
    
  
  
  
  
  
    
  
  <a class="btn btn-outline-primary btn-page-header" href="https://github.com/pedrocorma/retail-sales-forecasting" target="_blank" rel="noopener">
    <i class="fab fa-github mr-1"></i>See GitHub repository</a>


</div>


</div>


<div class="article-header article-container featured-image-wrapper mt-4 mb-4" style="max-width: 720px; max-height: 321px;">
  <div style="position: relative">
    <img src="https://pedrocorma.github.io/project/0forecasting/featured_hud0064a66344a98ca0eb0f75285c7fa71_1092910_720x2500_fit_q75_h2_lanczos_3.webp" width="720" height="321" alt="" class="featured-image">
    
  </div>
</div>



  <div class="article-container">

    <div class="article-style">
      <blockquote>
<p><em>Note: Current documentation available on the <a href="https://github.com/pedrocorma/retail-sales-forecasting" target="_blank" rel="noopener">GitHub repository</a> is in Spanish. It will soon be updated to English.</em></p>
</blockquote>
<h2 id="table-of-contents" style='text-align: left; color: #f76497;'>Table of contents</h2>
<ol>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#objectives">Objectives</a></li>
<li><a href="#understanding-the-problem">Understanding the problem</a></li>
<li><a href="#project-design">Project design</a></li>
<li><a href="#data-quality">Data quality</a></li>
<li><a href="#eda">Exploratory data analysis</a></li>
<li><a href="#feature-transformation">Feature engineering and transformations</a></li>
<li><a href="#modelling">Modelling</a></li>
<li><a href="#scripts">Retraining and production scripts</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ol>
<div style="text-align: justify;">
<p>
<h2 id="introduction" style='text-align: left; color: #f76497;'>Introduction</h2>
<hr>
<p>The client is a large American retailer that desires to implement a sales prediction system based on artificial intelligence algorithms.</p>
<p><em>Notes:</em></p>
<ul>
<li>This article presents a technical explanation of the development process followed in the project.</li>
<li>Source code can be found <a href="https://github.com/pedrocorma/retail-sales-forecasting" target="_blank" rel="noopener">here</a>.</li>
</ul>
<h2 id="objectives" style='text-align: left; color: #f76497;'>Objectives</h2>
<hr>
<p>Developing a set of machine learning models on a three-year-history SQL database to predict sales for the next 8 days at the store-product level using massive modelling techniques.</p>
















<figure  id="figure-support3">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img alt="" srcset="
               /project/0forecasting/support3_hub58e4e5716bf83ae12ae762563fc86c8_343241_3dd914159386ad007f2a1952890eb8ef.webp 400w,
               /project/0forecasting/support3_hub58e4e5716bf83ae12ae762563fc86c8_343241_8bf067333aea138a1c86c533e7a39dc7.webp 760w,
               /project/0forecasting/support3_hub58e4e5716bf83ae12ae762563fc86c8_343241_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
               src="https://pedrocorma.github.io/project/0forecasting/support3_hub58e4e5716bf83ae12ae762563fc86c8_343241_3dd914159386ad007f2a1952890eb8ef.webp"
               width="760"
               height="337"
               loading="lazy" data-zoomable /></div>
  </div></figure>
<h2 id="understanding-the-problem" style='text-align: left; color: #f76497;'>Understanding the problem</h2>
<hr>
<p>One of the most frequent applications of data science is sales forecasting due to its direct impact on the balance sheet.</p>
















<figure  id="figure-support1">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img alt="" srcset="
               /project/0forecasting/support11_hu6845ff192ffc083677d62e7740ab8a73_112102_799d6c972a7bc7303f09d4bc0abd2003.webp 400w,
               /project/0forecasting/support11_hu6845ff192ffc083677d62e7740ab8a73_112102_4f0d542abd69818e94d70596b0ed4574.webp 760w,
               /project/0forecasting/support11_hu6845ff192ffc083677d62e7740ab8a73_112102_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
               src="https://pedrocorma.github.io/project/0forecasting/support11_hu6845ff192ffc083677d62e7740ab8a73_112102_799d6c972a7bc7303f09d4bc0abd2003.webp"
               width="540"
               height="529"
               loading="lazy" data-zoomable /></div>
  </div></figure>
<p>Sales forecasting is aimed at improving the following processes:</p>
<ul>
<li><text id="s1" style='text-align: left; color: #f76497; font-weight: normal;'>Supplier relationship management:</text> by having the prediction of customer demand in numbers, it’s possible to calculate how many products to order, making it easy for managers to decide whether the company needs new supply chains or to reduce the number of suppliers.</li>
<li><text id="s2" style='text-align: left; color: #f76497; font-weight: normal;'>Customer relationship management:</text> customers planning to buy something expect the products they want to be available immediately. Demand forecasting allows to predict which categories of products need to be purchased in the next period from a specific store location. This improves customer satisfaction and commitment to the brand.</li>
<li><text id="s3" style='text-align: left; color: #f76497; font-weight: normal;'>Order fulfillment and logistics:</text> sales forecasting features optimising supply chains. This means that at the time of order, the product will be more likely to be in stock, and unsold goods won’t occupy prime retail space.</li>
<li><text id="s4" style='text-align: left; color: #f76497; font-weight: normal;'>Marketing campaigns:</text> forecasting is often used to adjust ads and marketing campaigns and can influence the number of sales. This is one of the use cases of machine learning in marketing. Sophisticated machine learning forecasting models can take marketing data into account as well.</li>
<li><text id="s4" style='text-align: left; color: #f76497; font-weight: normal;'>Manufacturing flow management:</text> being part of the ERP, the time series-based demand forecasting predicts production needs based on how many goods will eventually be sold.</li>
</ul>
<p>To this end, traditional sales forecasting methods have been tried and tested for decades. With Artificial Intelligence development, they are now complemented by modern forecasting methods using Machine Learning. Machine learning techniques allows for predicting the amount of products/services to be purchased during a defined future period. In this case, a software system can learn from data for improved analysis. Compared to traditional demand forecasting methods, a machine learning approach allows to:</p>
<ul>
<li>Accelerate data processing speed</li>
<li>Automate forecast updates based on the recent data</li>
<li>Analyze more data</li>
<li>Identify hidden patterns in data</li>
<li>Increase adaptability to changes</li>
</ul>
<p>Massive and scalable machine learning modelling techniques will be used to approach the present project.</p>
<h2 id="project-design" style='text-align: left; color: #f76497;'>Project design</h2>
<hr>
<h3 id="entities-and-data" style='text-align: left; color: #f76497; font-weight: normal;'>Project scope, entities and data</h3>
This project has been developed based on the data contained in a three-year-history SQL database of a large American retailer. Due to the computational limitations of the equipment available for its development, the scope of the project has been limited to the sales forecasting of ten products belonging to a single category (food) in two different stores. However, the developed system is fully scalable to predict sales of more products, categories and stores by simply changing their respective parameters.
















<figure  id="figure-support2">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img alt="" srcset="
               /project/0forecasting/support2_hu9d0a719db83b912b897e7669b382ed37_231246_41ea1b41a215fe5a35d661c9b6e71933.webp 400w,
               /project/0forecasting/support2_hu9d0a719db83b912b897e7669b382ed37_231246_a6ad2e2e928819bfe572af5d4eee2191.webp 760w,
               /project/0forecasting/support2_hu9d0a719db83b912b897e7669b382ed37_231246_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
               src="https://pedrocorma.github.io/project/0forecasting/support2_hu9d0a719db83b912b897e7669b382ed37_231246_41ea1b41a215fe5a35d661c9b6e71933.webp"
               width="760"
               height="356"
               loading="lazy" data-zoomable /></div>
  </div></figure>
<h3 id="entities-and-data" style='text-align: left; color: #f76497; font-weight: normal;'>Approach to the main forecasting-related problems</h3>
<h4 id="p1" style='text-align: left; color: #f76497; font-weight: normal;'>1. Hierarchical Forecasting</h4>
<p>More often than not, time series data follows a hierarchical aggregation structure. For example, in retail, sales for a Stock Keeping Unit (SKU) at a store can roll up to different category and subcategory hierarchies. In these cases, it must be assure that the sales estimates are in agreement when rolled up to a higher level. In these scenarios, Hierarchical Forecasting is used. It is the process of generating coherent forecasts (or reconciling incoherent forecasts) that allows individual time series to be forecasted individually while still preserving the relationships within the hierarchy.</p>
















<figure  id="figure-hf">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img alt="Hierarchical structure in time series for store sales. Individual product sales are depicted in the lowest level (level 2) of the tree, followed by sales aggregated on the subcategory level (level 1), and finally all of the subcategory sales aggregated on the category level (level 0)." srcset="
               /project/0forecasting/hf_hu2b39a5768de7359c5b17613b004cded9_65767_5589318383edba7e15b755489588d9fa.webp 400w,
               /project/0forecasting/hf_hu2b39a5768de7359c5b17613b004cded9_65767_80519a169c3701423acb1123e0da0798.webp 760w,
               /project/0forecasting/hf_hu2b39a5768de7359c5b17613b004cded9_65767_1200x1200_fit_q75_h2_lanczos.webp 1200w"
               src="https://pedrocorma.github.io/project/0forecasting/hf_hu2b39a5768de7359c5b17613b004cded9_65767_5589318383edba7e15b755489588d9fa.webp"
               width="760"
               height="317"
               loading="lazy" data-zoomable /></div>
  </div><figcaption>
      Hierarchical structure in time series for store sales. Individual product sales are depicted in the lowest level (level 2) of the tree, followed by sales aggregated on the subcategory level (level 1), and finally all of the subcategory sales aggregated on the category level (level 0).
    </figcaption></figure>
<p><text id="s1" style='text-align: left; color: #f76497; font-weight: normal;'>1.1. Problems:</text></p>
<ul>
<li>There are different levels of hierarchies in the commercial catalog.</li>
<li>It may be interesting to predict sales at different levels.</li>
<li>Since the forecasts are probabilistic, predictions at different levels will not match exactly.</li>
</ul>
<p><text id="s1" style='text-align: left; color: #f76497; font-weight: normal;'>1.2. Solution:</text></p>
<p>The forecasts at all of the levels must be coherent. To achieve that, there are different reconciliation approaches to combining and breaking forecasts at different levels. The most common of these methods are as follows:</p>
<ul>
<li>
<p><text id="s1" style='text-align: left; color: #f76497; font-weight: normal;'>Bottom-Up:</text> in this method, the forecasts are carried out at the bottom-most level of the hierarchy, and then summed going up. For example, in the preceding figure, by using the bottom-up method, the time series’ for the products (level 2) are used to build forecasting models. The outputs of individual models are then summed to generate the forecast for the subcategories. For example, forecasts for &lsquo;apples&rsquo; and &lsquo;grapes&rsquo; are summed to get the forecasts for &lsquo;fruits&rsquo;. Finally, forecasts for all of the subcategories are summed to generate the forecasts for &lsquo;food&rsquo; category.</p>
</li>
<li>
<p><text id="s1" style='text-align: left; color: #f76497; font-weight: normal;'>Top-down:</text> in top-down approaches, the forecast is first generated for the top level (&lsquo;Food&rsquo; in the preceding figure) and then disaggregated down the hierarchy. Disaggregate proportions are used in conjunction with the top level forecast to generate forecasts at the bottom level of the hierarchy. There are multiple methods to generate these disaggregate proportions, such as average historical proportions, proportions of the historical averages, and forecast proportions.</p>
</li>
<li>
<p><text id="s1" style='text-align: left; color: #f76497; font-weight: normal;'>Middle-out:</text> in this method, forecasts are first generated for all of the series at a &lsquo;middle level&rsquo; (for example, &lsquo;meat&rsquo;, &lsquo;backery&rsquo;, &lsquo;frozen foods&rsquo;, and &lsquo;fruits&rsquo; in the preceding figure). From these forecasts, the bottom-up approach is used to generate the aggregated forecasts for the levels above this middle level. For the levels below the middle level, a top-down approach is used.</p>
</li>
</ul>
<blockquote>
<p>In this case, it has been decided to model at the lowest hierarchical level, i.e. at the store-product level.</p>
</blockquote>
<h4 id="p2" style='text-align: left; color: #f76497; font-weight: normal;'>2. Intermittent demand</h4>
<p>Intermittent demand, also known as sporadic demand, comes about when a product experiences several periods of zero demand. Often in these situations, when demand occurs it is small, and sometimes highly variable in size.</p>
















<figure  id="figure-p2">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img alt="Intermittent demand." srcset="
               /project/0forecasting/p2_hu446d502e894fe9b8c3963a0854bf0cce_134301_38be46e010da81a16769bd50eae31965.webp 400w,
               /project/0forecasting/p2_hu446d502e894fe9b8c3963a0854bf0cce_134301_c3b7fadba1b3cc1c9a0993038071eea1.webp 760w,
               /project/0forecasting/p2_hu446d502e894fe9b8c3963a0854bf0cce_134301_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
               src="https://pedrocorma.github.io/project/0forecasting/p2_hu446d502e894fe9b8c3963a0854bf0cce_134301_38be46e010da81a16769bd50eae31965.webp"
               width="760"
               height="450"
               loading="lazy" data-zoomable /></div>
  </div><figcaption>
      Intermittent demand.
    </figcaption></figure>
<p><text id="s1" style='text-align: left; color: #f76497; font-weight: normal;'>2.1. Problems:</text></p>
<ul>
<li>The source of these zero values is unknown:
<ul>
<li>The product was in stock but no sales were made?</li>
<li>The product was not in stock and therefore could not be sold?</li>
</ul>
</li>
<li>This situation generates noise and difficulties that worsen the algorithm predictions.</li>
</ul>
<p><text id="s1" style='text-align: left; color: #f76497; font-weight: normal;'>2.2. Solutions:</text></p>
<ul>
<li>The optimal way to approach this problem is to get the inventory information in addition to the sales information, thus being able to generate stock-out features that allow the algorithms to discriminate the cause of the zero values.</li>
<li>If it is not possible to obtain inventory information and/or stock-out marks, another possible approach is to model at a higher hierarchical level, especially if the products are in very low demand.</li>
<li>It is also possible to create synthetic features that try to identify whether or not stock-outs have occurred.</li>
<li>Employing forecasting methods based on machine learning techniques, which are less sensitive to these problems than classical approaches.</li>
<li>Employing more advanced methodologies such as:
<ul>
<li>Croston method and derivatives.</li>
<li>ML models to predict the probability that a particular day&rsquo;s sales will be zero.</li>
</ul>
</li>
</ul>
<blockquote>
<p>In the present project, there is no inventory information or stock-out marks available in the provided database, so it has been decided to generate synthetic features that collect the situations where stock-outs occur based on business rules.</p>
</blockquote>
<h4 id="p2" style='text-align: left; color: #f76497; font-weight: normal;'>3. There are hundreds or thousands of Stock Keeping Units (SKUs)</h4>
<p>In real contexts and sectors such as retail, ecommerce, there are often thousands of different products for which to predict the sales level.</p>
<p><text id="s1" style='text-align: left; color: #f76497; font-weight: normal;'>3.1. Problem:</text></p>
<ul>
<li>Depending on the number of SKUs, the desired level of temporal aggregation (hourly/daily/weekly models&hellip;), the amount of historical data being used, the computational resources available, etc., there may come a point where modelling process is not computationally feasible.</li>
</ul>
<p><text id="s1" style='text-align: left; color: #f76497; font-weight: normal;'>3.2. Solutions:</text></p>
<ul>
<li>Employing the forecasting approach based on machine learning, since once the models are trained, it is much faster than the classical approach.</li>
<li>Using faster models such as LightGBM.</li>
<li>Modelling at a higher hierarchical level and estimate the forecast of the lower levels by applying top-down reconciliation techniques.</li>
<li>Using big data techniques to train the models
<ul>
<li>Powerful cloud machines.</li>
<li>Big Data clusters.</li>
</ul>
</li>
</ul>
<blockquote>
<p>Forecasting approach based on machine learning and LightGBM tree-based algorithm architecture has been employed in the project.</p>
</blockquote>
<h2 id="data-quality" style='text-align: left; color: #f76497;'>Data quality</h2>
<hr>
<p>In this stage of the project, general data quality correction processes have been applied, such as:</p>
<ul>
<li>Feature renaming</li>
<li>Feature type correction</li>
<li>Elimination of features with unique values</li>
<li>Nulls imputation</li>
<li>Outliers management</li>
<li>&hellip;</li>
</ul>
<p>The entire process can be consulted in detail <a href="https://github.com/pedrocorma/retail-sales-forecasting/blob/main/03_Notebooks/02_Desarrollo/02_Calidad%20de%20Datos.ipynb" target="_blank" rel="noopener">here</a>.</p>
<h2 id="eda" style='text-align: left; color: #f76497;'>Exploratory data analysis</h2>
<hr>
<p>The aim of this stage of the project is to discover trends, patterns, and to check assumptions with the help of statistical summary and graphical representations. Complete analysis can be found <a href="https://github.com/pedrocorma/retail-sales-forecasting/blob/main/03_Notebooks/02_Desarrollo/03_EDA.ipynb" target="_blank" rel="noopener">here</a>.</p>
<p>Example of the analysis of some of the analysis that have been conducted:</p>
















<figure  id="figure-exhibit1">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img alt="Price trend by product. Pricing policies vary widely by product. Promotions seem to be frequent. It would be really useful to have a calendar of promotions." srcset="
               /project/0forecasting/exhibit1_hu903b0d331ba6c81b90755f7e147351ab_57678_70ed531fa2bf501693ff76dd2e7c2e3b.webp 400w,
               /project/0forecasting/exhibit1_hu903b0d331ba6c81b90755f7e147351ab_57678_548df428fefaaae3d2b9b4a68ed1db5e.webp 760w,
               /project/0forecasting/exhibit1_hu903b0d331ba6c81b90755f7e147351ab_57678_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
               src="https://pedrocorma.github.io/project/0forecasting/exhibit1_hu903b0d331ba6c81b90755f7e147351ab_57678_70ed531fa2bf501693ff76dd2e7c2e3b.webp"
               width="760"
               height="385"
               loading="lazy" data-zoomable /></div>
  </div><figcaption>
      Price trend by product. Pricing policies vary widely by product. Promotions seem to be frequent. It would be really useful to have a calendar of promotions.
    </figcaption></figure>
















<figure  id="figure-exhibit2">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img alt="Seasonality of event type by product." srcset="
               /project/0forecasting/exhibit2_hu6d98e795402784a8a2b20f3dff3609cd_73506_03bc7e13f77ac4248a3c5e710d695e93.webp 400w,
               /project/0forecasting/exhibit2_hu6d98e795402784a8a2b20f3dff3609cd_73506_b9b9e5eb2cae507df4a37d0662f65b64.webp 760w,
               /project/0forecasting/exhibit2_hu6d98e795402784a8a2b20f3dff3609cd_73506_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
               src="https://pedrocorma.github.io/project/0forecasting/exhibit2_hu6d98e795402784a8a2b20f3dff3609cd_73506_03bc7e13f77ac4248a3c5e710d695e93.webp"
               width="490"
               height="760"
               loading="lazy" data-zoomable /></div>
  </div><figcaption>
      Seasonality of event type by product.
    </figcaption></figure>
<h2 id="feature-transformation" style='text-align: left; color: #f76497;'>Feature engineering and transformations</h2>
<hr>
<p>At this stage of the project, different variable transformation techniques (one hot encoding, target encoding, etc.) have been applied to adapt them to the requirements of the algorithms that will be used during the modelling phase.</p>
<p>On the other hand, aiming to increase the predictive capacity of the models, new features have been created, such as:</p>
<ul>
<li><text id="s1" style='text-align: left; color: #f76497; font-weight: normal;'>Intermittent demand features:</text> explained at project design section.</li>
<li><text id="s1" style='text-align: left; color: #f76497; font-weight: normal;'>Lag features:</text> are values at prior timesteps that are considered useful because they are created on the assumption that what happened in the past can influence or contain a sort of intrinsic information about the future.</li>
<li><text id="s1" style='text-align: left; color: #f76497; font-weight: normal;'>Rolling window features:</text> the main goal of building and using rolling window features in a time series dataset is to compute statistics on the values from a given data sample by defining a range that includes the sample itself as well as some specified number of samples before and after the sample used.</li>
</ul>
<p>Complete source code of this stage can be found <a href="https://github.com/pedrocorma/retail-sales-forecasting/blob/main/03_Notebooks/02_Desarrollo/04_Transformacion%20de%20datos.ipynb" target="_blank" rel="noopener">here</a>.</p>
<h2 id="modelling" style='text-align: left; color: #f76497;'>Modelling</h2>
<hr>
<h3 id="feature_selection" style='text-align: left; color: #f76497; font-weight: normal;'>Feature selection</h3>
<p>At this stage of the project most predictive features have been analysed by comparing the results of three different selection methods (Recursive feature elimination, Mutual information, Permutation importance), to both improve the performance of the models and reduce the computational modelling costs. Finally, the 70 most predictive features identified by &lsquo;Recursive feature elimination&rsquo; method have been selected. Entire feature selection code is available <a href="https://github.com/pedrocorma/retail-sales-forecasting/blob/main/03_Notebooks/02_Desarrollo/05_Preselecci%C3%B3n%20de%20variables.ipynb" target="_blank" rel="noopener">here</a>.</p>
















<figure  id="figure-rfe">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img alt="70 most predictive features according to Recursive Feature Elimination method." srcset="
               /project/0forecasting/rfe_hu6db99f79e29f68b140ea2c23cc48a5f2_89212_42a96e85bfe02b86d3eb1cc0bacb2456.webp 400w,
               /project/0forecasting/rfe_hu6db99f79e29f68b140ea2c23cc48a5f2_89212_72921a02b8001153c66d74f6ef7662b4.webp 760w,
               /project/0forecasting/rfe_hu6db99f79e29f68b140ea2c23cc48a5f2_89212_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
               src="https://pedrocorma.github.io/project/0forecasting/rfe_hu6db99f79e29f68b140ea2c23cc48a5f2_89212_42a96e85bfe02b86d3eb1cc0bacb2456.webp"
               width="514"
               height="760"
               loading="lazy" data-zoomable /></div>
  </div><figcaption>
      70 most predictive features according to Recursive Feature Elimination method.
    </figcaption></figure>
<h3 id="one-step-one-model" style='text-align: left; color: #f76497; font-weight: normal;'>Developing a one-step forecasting model for a specific product-store combination</h3>
The objective of this stage of the project is not to obtain the final models but to design the modeling process (algorithm selection, hyperparameter optimization, model evaluation...) for the minimum analysis unit (product-store), in order to verify the correct functioning of the process and to avoid possible error sources when scaling the one-step forecasting process to all product-store combinations.
<br></br>
<text id="text" style='text-align: left; color: #f76497; font-weight: normal;'>Defining the validation strategy - Time series split cross-validation:</text>
<p>In order to prevent overfitting and evaluate model performance in a more robust way than simple train-test, a cross validation strategy has been implemented.</p>
<p>In the case of time series, the cross-validation is not trivial. Random samples can not be assigned to either the test set or the train set because it makes no sense to use the values from the future to forecast values in the past. In simple word future-looking must be avoided when training the models. There is a temporal dependency between observations that must be preserved during testing.</p>
<p>The method that can be used for cross-validating the time-series model is cross-validation on a rolling basis. Start with a small subset of data for training purpose, forecast for the later data points and then checking the accuracy for the forecasted data points. The same forecasted data points are then included as part of the next training dataset and subsequent data points are forecasted.</p>
















<figure  id="figure-cv">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img alt="Time-series model cross-validation process." srcset="
               /project/0forecasting/cv_hu15e1325518b377fbfc1ee0b43b9d7a1f_14385_f3275b46a46e84d9cbc9594d54aacd81.webp 400w,
               /project/0forecasting/cv_hu15e1325518b377fbfc1ee0b43b9d7a1f_14385_a4106fc6e9428309674162f7c7b8b200.webp 760w,
               /project/0forecasting/cv_hu15e1325518b377fbfc1ee0b43b9d7a1f_14385_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
               src="https://pedrocorma.github.io/project/0forecasting/cv_hu15e1325518b377fbfc1ee0b43b9d7a1f_14385_f3275b46a46e84d9cbc9594d54aacd81.webp"
               width="602"
               height="276"
               loading="lazy" data-zoomable /></div>
  </div><figcaption>
      Time-series model cross-validation process.
    </figcaption></figure>
<p>In the present project the cross validation process has been implemented using <code>sklearn.model_selection.TimeSeriesSplit</code> class of scikit-learn package with 3 splits and 8 days as maximum training size.
<br></br>
<text id="text" style='text-align: left; color: #f76497; font-weight: normal;'>Selecting the algorithm architecture:</text></p>
<p>As discussed in the general design phase of the project, the algorithmic architecture used to implement the different models has been LightGBM given its favorable relationship between predictive capability and the computational time required.
<br></br>
<text id="text" style='text-align: left; color: #f76497; font-weight: normal;'>Hyperparameter optimization:</text></p>
<p>Different combinations of hyperparameters have been tested to find those with the best performance. Evaluation scores obtained in the tested parametrisations remains stable during cross-validation process, which is a good indicator of the stability of the model predictions.
<br></br>
<text id="text" style='text-align: left; color: #f76497; font-weight: normal;'>Checking:</text></p>
<p>The objective here is not to evaluate the model quality (since the predictions have been made using the training data), but simply to verify that the process works properly, that the order of magnitude of the predictions is correct and that no other anomalous behavior are detected before moving on with the project.</p>
<p>















<figure  id="figure-1step1model">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img alt="Checking last 3 months predictions on train data of model for product &#39;FOODS_3_586&#39; on store &#39;CA_3&#39;." srcset="
               /project/0forecasting/1step1model_hucd9aa8be0e94f76c8201583f4090b90d_105647_bf519a771515b6493cc8c65463960663.webp 400w,
               /project/0forecasting/1step1model_hucd9aa8be0e94f76c8201583f4090b90d_105647_e5f6d8a8032bb6eb48d6e11ac8d000cb.webp 760w,
               /project/0forecasting/1step1model_hucd9aa8be0e94f76c8201583f4090b90d_105647_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
               src="https://pedrocorma.github.io/project/0forecasting/1step1model_hucd9aa8be0e94f76c8201583f4090b90d_105647_bf519a771515b6493cc8c65463960663.webp"
               width="760"
               height="478"
               loading="lazy" data-zoomable /></div>
  </div><figcaption>
      Checking last 3 months predictions on train data of model for product &lsquo;FOODS_3_586&rsquo; on store &lsquo;CA_3&rsquo;.
    </figcaption></figure>
There do not seem to be any problems, so the progress of the project continues.</p>
<h3 id="one-step-one-model" style='text-align: left; color: #f76497; font-weight: normal;'>Generalizing the one-step forecasting model creation process</h3>
<p>Once the model generation process has been created and polished at the individual level (product-store), in this section the code necessary to scale this process to all the products to be modeled has been developed.</p>
<p><text id="text" style='text-align: left; color: #f76497; font-weight: normal;'>Checking:</text></p>
<p>Again, the objective here is not to evaluate quality of the models but simply to verify that the generalization of the one-step forecasting model creation process works properly.
















<figure  id="figure-1step20model">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img alt="Checking last 3 months predictions on train data of all product-store models." srcset="
               /project/0forecasting/1step20model_hu06661cc6c3eb83b0f8d317bf80d1190c_1548815_26818aabfc3427f1dd426371a90fdaa2.webp 400w,
               /project/0forecasting/1step20model_hu06661cc6c3eb83b0f8d317bf80d1190c_1548815_1491f5df30af469fd01705e5d412d329.webp 760w,
               /project/0forecasting/1step20model_hu06661cc6c3eb83b0f8d317bf80d1190c_1548815_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
               src="https://pedrocorma.github.io/project/0forecasting/1step20model_hu06661cc6c3eb83b0f8d317bf80d1190c_1548815_26818aabfc3427f1dd426371a90fdaa2.webp"
               width="760"
               height="531"
               loading="lazy" data-zoomable /></div>
  </div><figcaption>
      Checking last 3 months predictions on train data of all product-store models.
    </figcaption></figure></p>
<h3 id="one-step-one-model" style='text-align: left; color: #f76497; font-weight: normal;'>Recursive multi-Step Time Series Forecasting</h3>
<p>At this point of the project it has been designed a scalable process of one-step forecasting model generation, thus being able to predict the next day&rsquo;s sales at product-store level. However, the project&rsquo;s objective is to make these predictions not only for the next day but for the following 8 days.</p>
<p>Predicting multiple time steps into the future is called multi-step time series forecasting. There are several approaches to this problem, of which the two main ones are as follows:</p>
<ol>
<li>
<p><text id="text" style='text-align: left; color: #f76497; font-weight: normal;'>Direct Multi-step Forecast Strategy:</text> The direct method involves developing a separate model for each forecast time step. Having one model for each time step is an added computational and maintenance burden. On the other hand, because separate models are used, it means that there is no opportunity to model the dependencies between the predictions, such as the prediction on day 2 being dependent on the prediction in day 1, as is often the case in time series.
















<figure  id="figure-direct">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img alt="Direct Multi-step Forecast strategy." srcset="
               /project/0forecasting/multistep_direct_hu19a3e408bc0c364a0ce25c0e632c2d26_390368_7cc6411da8a082f34040b369ad03423f.webp 400w,
               /project/0forecasting/multistep_direct_hu19a3e408bc0c364a0ce25c0e632c2d26_390368_d873b854f42b8478476f7888943bb09e.webp 760w,
               /project/0forecasting/multistep_direct_hu19a3e408bc0c364a0ce25c0e632c2d26_390368_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
               src="https://pedrocorma.github.io/project/0forecasting/multistep_direct_hu19a3e408bc0c364a0ce25c0e632c2d26_390368_7cc6411da8a082f34040b369ad03423f.webp"
               width="760"
               height="357"
               loading="lazy" data-zoomable /></div>
  </div><figcaption>
      Direct Multi-step Forecast strategy.
    </figcaption></figure></p>
</li>
<li>
<p><text id="text" style='text-align: left; color: #f76497; font-weight: normal;'>Recursive Multi-step Forecast:</text> The recursive strategy involves using a one-step model multiple times where the prediction for the prior time step is used as an input for making a prediction on the following time step, being therefore a better approximation than the direct one with respect to computational and maintenance aspects. However, the recursive strategy allows prediction errors to accumulate such that performance may quickly degrade as the prediction time horizon increases.
















<figure  id="figure-recursive">
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img alt="Recursive Multi-step Forecast strategy." srcset="
               /project/0forecasting/multistep_recursive_huaad89ae5be066d461d264f358da8f454_329641_5f08b905854557007fe4258f708f6c4c.webp 400w,
               /project/0forecasting/multistep_recursive_huaad89ae5be066d461d264f358da8f454_329641_fe6b855da607bc926a0e63df32a175c3.webp 760w,
               /project/0forecasting/multistep_recursive_huaad89ae5be066d461d264f358da8f454_329641_1200x1200_fit_q75_h2_lanczos_3.webp 1200w"
               src="https://pedrocorma.github.io/project/0forecasting/multistep_recursive_huaad89ae5be066d461d264f358da8f454_329641_5f08b905854557007fe4258f708f6c4c.webp"
               width="760"
               height="370"
               loading="lazy" data-zoomable /></div>
  </div><figcaption>
      Recursive Multi-step Forecast strategy.
    </figcaption></figure></p>
</li>
</ol>
<blockquote>
<p>Recursive multi-step forecasting approach has been finally implemented in order to reduce as much as possible the development and maintenance costs of the models.</p>
</blockquote>
<p>Complete modelling process can be consulted <a href="https://github.com/pedrocorma/retail-sales-forecasting/blob/main/03_Notebooks/02_Desarrollo/06_Modelizacion%20para%20Regresion.ipynb" target="_blank" rel="noopener">here</a>.</p>
<h2 id="scripts" style='text-align: left; color: #f76497;'>Retraining and production scripts</h2>
<hr>
<p>Once all recursive multi-step forecasting models have been developed, trained and evaluated properly, in this final stage of the project all the necessary processes, functions and code have been compiled in a clean and optimal way into two Python scripts:</p>
<ol>
<li><a href="https://github.com/pedrocorma/retail-sales-forecasting/blob/main/05_Resultados/codigo_reentrenamiento.py" target="_blank" rel="noopener">Retraining script</a>: automatically retrains all developed models with new data when necessary.</li>
<li><a href="https://github.com/pedrocorma/retail-sales-forecasting/blob/main/05_Resultados/codigo_ejecucion.py" target="_blank" rel="noopener">Production script</a>: executes all models and obtains the results.</li>
</ol>
<h2 id="conclusion" style='text-align: left; color: #f76497;'>Conclusion</h2>
<hr>
<p>Warehouse costs and stock-outs have been reduced by developing a scalable set of machine learning models that predict the demand in the next 8 days at store-product level.</p>
</p>
</div>

    </div>

    




<div class="article-tags">
  
  <a class="badge badge-light" href="https://pedrocorma.github.io/tag/machine-learning-automation-projects/">Machine Learning Automation Projects</a>
  
</div>



<div class="share-box">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=https://pedrocorma.github.io/project/0forecasting/&amp;text=Retail%20Sales%20Forecasting" target="_blank" rel="noopener" class="share-btn-twitter" aria-label="twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=https://pedrocorma.github.io/project/0forecasting/&amp;t=Retail%20Sales%20Forecasting" target="_blank" rel="noopener" class="share-btn-facebook" aria-label="facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=Retail%20Sales%20Forecasting&amp;body=https://pedrocorma.github.io/project/0forecasting/" target="_blank" rel="noopener" class="share-btn-email" aria-label="envelope">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=https://pedrocorma.github.io/project/0forecasting/&amp;title=Retail%20Sales%20Forecasting" target="_blank" rel="noopener" class="share-btn-linkedin" aria-label="linkedin-in">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="whatsapp://send?text=Retail%20Sales%20Forecasting%20https://pedrocorma.github.io/project/0forecasting/" target="_blank" rel="noopener" class="share-btn-whatsapp" aria-label="whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
  </ul>
</div>











  
  



  
  
  
    
  
  
  
  <div class="media author-card content-widget-hr">
    
      
      <a href="https://pedrocorma.github.io"><img class="avatar mr-3 avatar-circle" src="https://pedrocorma.github.io/authors/admin/avatar_hu33981c1ec0bc1c8013f97c848274de1f_1625884_270x270_fill_lanczos_center_3.png" alt="Pedro Cortés Macías"></a>
    

    <div class="media-body">
      <h5 class="card-title"><a href="https://pedrocorma.github.io">Pedro Cortés Macías</a></h5>
      <h6 class="card-subtitle">Data scientist · Industrial Engineer</h6>
      <p class="card-text">I love solving problems. More specifically, I love solving problems using code, maths and business knowledge. Using it for analysis and automation, helping people and companies to be more productive, make better decisions and create data-driven assets.</p>
      <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://pedrocorma.github.io/#contact" >
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://www.linkedin.com/in/pedro-cortes-macias/" target="_blank" rel="noopener">
        <i class="fab fa-linkedin"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://github.com/pedrocorma" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
    </li>
  
</ul>

    </div>
  </div>


















    <div class="project-related-pages content-widget-hr">
      
      

      
      
      

      
      
      

      
      
      
    </div>
  </div>
</article>
  </div>

  <div class="page-footer">
    
    
    <div class="container">
      
    </div>
    
  </div>

      

    
    <script src="https://pedrocorma.github.io/js/vendor-bundle.min.e66e385e2f1df861699d60acd7a9c670.js"></script>

    
    
    
      

      
      

      

      
        
        <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/highlight.min.js" integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin="anonymous"></script>
        
        
        <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/languages/r.min.js" crossorigin="anonymous"></script>
        
        <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/languages/latex.min.js" crossorigin="anonymous"></script>
        
        <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/languages/python3.min.js" crossorigin="anonymous"></script>
        
      

    

    
    
    

    
    

    
    
    
      
      <script id="search-hit-fuse-template" type="text/x-template">
        <div class="search-hit" id="summary-{{key}}">
          <div class="search-hit-content">
            <div class="search-hit-name">
              <a href="{{relpermalink}}">{{title}}</a>
              <div class="article-metadata search-hit-type">{{type}}</div>
              <p class="search-hit-description">{{snippet}}</p>
            </div>
          </div>
        </div>
      </script>
      
        <script src="https://cdn.jsdelivr.net/gh/krisk/Fuse@v3.2.1/dist/fuse.min.js" integrity="sha512-o38bmzBGX+hD3JHWUFCDA09btWaqrNmoJ3RXLlrysA7PP01Kgs4UlE4MhelE1v5dJR3+cxlR4qQlotsW7jKsnw==" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/gh/julmot/mark.js@8.11.1/dist/jquery.mark.min.js" integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin="anonymous"></script>
      
    

    
    

    
    
    
    

    
    
      
      
      
      
      
      
      
    

    

    
    
    
    <script id="page-data" type="application/json">{"use_headroom":true}</script>

    
    
      <script src="https://pedrocorma.github.io/js/wowchemy-headroom.c251366b4128fd5e6b046d4c97a62a51.js" type="module"></script>
    
    
    
    
    
    
    
      
      
    
    
    <script src="https://pedrocorma.github.io/en/js/wowchemy.min.ab2f2890dbe3e2e83579366d3d6e8fd9.js"></script>

    
    
    
    
    
    






</body>
</html>
